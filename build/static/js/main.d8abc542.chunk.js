(this["webpackJsonpbrewmaps-frontend"]=this["webpackJsonpbrewmaps-frontend"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(48),s=a.n(l),o=(a(64),a(24)),i=a(4),c=a(5),m=a(11),u=a(10),p=(a(44),a(12)),h=a(7),d=a(40),v=a.n(d),b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={users:[],name:""},e.handleLogoutClick=function(){e.props.history.push("/"),e.props.handleLogout()},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},"NOT_LOGGED_IN"!==this.props.loggedInStatus?r.a.createElement("nav",{className:"navbar navbar-inverse"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("img",{className:"navbar-brand logo",src:v.a,alt:"beer map logo"}),"BREWMAPS"),r.a.createElement("b",null,"Cheers, ",this.props.user.username,"!"),r.a.createElement(p.c,{to:"/map"}," BREWERYMAP "),r.a.createElement(p.c,{to:"/breweries"}," BREWERIES "),r.a.createElement(p.c,{to:"/favorites"}," FAVORITES"),r.a.createElement("a",{id:"logout",href:"#",onClick:this.handleLogoutClick},"LOGOUT"))):r.a.createElement("nav",{className:"navbar navbar-inverse"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("img",{src:v.a,alt:"beer map logo",className:"logo"}),"BREWMAPS"))))}}]),a}(n.Component),g=a(21),f=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M11.793 1.576c1.255 0 2.319.82 2.684 1.955.214-.082.447-.126.689-.126 1.074 0 1.944.871 1.944 1.944s-.871 1.944-1.944 1.944c-.626 0-1.183-.296-1.539-.756-.493.423-1.134.679-1.835.679-.884 0-1.673-.408-2.19-1.045-.424.497-1.056.813-1.761.813-.604 0-1.155-.231-1.567-.611-.354.487-.927.804-1.575.804-2.981 0-2.721-3.889 0-3.889.398 0 .769.12 1.077.326.383-.751 1.164-1.266 2.065-1.266.591 0 1.131.222 1.541.586.493-.813 1.389-1.358 2.411-1.358zm0-1.576c-.971 0-1.945.322-2.747.964-1.29-.42-2.746-.145-3.795.792-2.148-.339-4.251 1.056-4.251 3.669 0 1.941 1.758 3.328 3.699 3.328.613 0 1.209-.162 1.731-.457.998.388 2.127.35 3.108-.126 1.166.698 2.638.832 3.957.278.505.273 1.077.42 1.672.42 1.941 0 3.521-1.579 3.521-3.521 0-1.874-1.472-3.411-3.32-3.515-.768-1.067-2.056-1.832-3.575-1.832zm-2.793 20h-2v-10.072c.604.197 1.479.176 2-.144v10.216zm8 1.224v-11.375c-.619.235-1.299.34-2 .292v11.083c0 .273.019.538.084.791h-10.168c.064-.253.084-.518.084-.791v-11.21c-.671.067-1.331-.012-1.97-.232v11.442c0 .664-.366 1.203-1.03 1.203v1.573h16v-1.573c-.664 0-1-.539-1-1.203zm2.851-12.224h-1.851v2h1.492c2.416 0 1.663 4.425-1.492 6.255v2.16c3.209-1.213 5-4.424 5-6.963 0-1.918-1.005-3.452-3.149-3.452z"})),w=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-telephone",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})),E=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-map",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98l4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"})),y=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-info-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.a.createElement("path",{d:"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"}),r.a.createElement("circle",{cx:"8",cy:"4.5",r:"1"})),N=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-globe",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4H2.255a7.025 7.025 0 0 1 3.072-2.472 6.7 6.7 0 0 0-.597.933c-.247.464-.462.98-.64 1.539zm-.582 3.5h-2.49c.062-.89.291-1.733.656-2.5H3.82a13.652 13.652 0 0 0-.312 2.5zM4.847 5H7.5v2.5H4.51A12.5 12.5 0 0 1 4.846 5zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5H7.5V11H4.847a12.5 12.5 0 0 1-.338-2.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12H7.5v2.923c-.67-.204-1.335-.82-1.887-1.855A7.97 7.97 0 0 1 5.145 12zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11H1.674a6.958 6.958 0 0 1-.656-2.5h2.49c.03.877.138 1.718.312 2.5zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12h2.355a7.967 7.967 0 0 1-.468 1.068c-.552 1.035-1.218 1.65-1.887 1.855V12zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5h-2.49A13.65 13.65 0 0 0 12.18 5h2.146c.365.767.594 1.61.656 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4H8.5V1.077c.67.204 1.335.82 1.887 1.855.173.324.33.682.468 1.068z"})),O=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-right",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})),C=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-person-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"})),S=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-lock",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M11.5 8h-7a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zm-7-1a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7zm0-3a3.5 3.5 0 1 1 7 0v3h-1V4a2.5 2.5 0 0 0-5 0v3h-1V4z"})),j=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-envelope-open-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.941.435a2 2 0 0 0-1.882 0l-6 3.2A2 2 0 0 0 0 5.4v.313l6.709 3.933L8 8.928l1.291.717L16 5.715V5.4a2 2 0 0 0-1.059-1.765l-6-3.2zM16 6.873l-5.693 3.337L16 13.372v-6.5zm-.059 7.611L8 10.072.059 14.484A2 2 0 0 0 2 16h12a2 2 0 0 0 1.941-1.516zM0 13.373l5.693-3.163L0 6.873v6.5z"})),k=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-shield-lock-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 .5c-.662 0-1.77.249-2.813.525a61.11 61.11 0 0 0-2.772.815 1.454 1.454 0 0 0-1.003 1.184c-.573 4.197.756 7.307 2.368 9.365a11.192 11.192 0 0 0 2.417 2.3c.371.256.715.451 1.007.586.27.124.558.225.796.225s.527-.101.796-.225c.292-.135.636-.33 1.007-.586a11.191 11.191 0 0 0 2.418-2.3c1.611-2.058 2.94-5.168 2.367-9.365a1.454 1.454 0 0 0-1.003-1.184 61.09 61.09 0 0 0-2.772-.815C9.77.749 8.663.5 8 .5zm.5 7.415a1.5 1.5 0 1 0-1 0l-.385 1.99a.5.5 0 0 0 .491.595h.788a.5.5 0 0 0 .49-.595L8.5 7.915z"})),z=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})),_=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-star-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),I=r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",loginErrors:"",allFavorites:[]},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(g.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.history.push("/map"),fetch("https://daniels-brewmaps-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:n,password:r}})}).then((function(e){return e.json()})).then((function(t){e.props.handleLogin(t.user),localStorage.setItem("authToken",t.auth_token)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"login",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"legend"},"Login"),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-envelope-o"},C))),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-lock"},S))),r.a.createElement("button",{className:"submit",type:"submit"},O),this.state.isInvalid&&r.a.createElement("div",null,"Invalid Username or Password"))),r.a.createElement("br",null),r.a.createElement("div",{className:"route-links"},r.a.createElement(p.b,{to:"/"},"homepage")," ","  \ud83c\udf7b  ",r.a.createElement(p.b,{to:"/signup"},"signup ")))}}]),a}(n.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",username:"",email:"",password:"",password_confirmation:"",registrationErrors:""},e.handleChange=function(t){e.setState(Object(g.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.username,l=a.email,s=a.password,o=a.password_confirmation;fetch("https://daniels-brewmaps-api.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{name:n,username:r,email:l,password:s,password_confirmation:o}})}).then((function(e){return e.json()})).then((function(t){e.props.handleLogin(t)})),e.props.history.push("/login")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"login",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"legend"},"SignUp"),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"name",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-envelope-o"},C))),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-envelope-o"},C))),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",null,j))),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-lock"},S))),r.a.createElement("div",{className:"input"},r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"Password Confirmation",value:this.state.password_confirmation,onChange:this.handleChange,required:!0}),r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-lock"},k))),r.a.createElement("button",{className:"submit",type:"submit",value:"Signup"},O))),r.a.createElement("br",null),r.a.createElement("div",{className:"route-links"},r.a.createElement(p.b,{to:"/"},"homepage")," ","  \ud83c\udf7b  ",r.a.createElement(p.b,{to:"/login"},"login ")))}}]),a}(n.Component),x=a(42),A=a(28),V=a(56),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.info,a="".concat(t.brewery_name),r="".concat(t.website_url),l="".concat(t.phone);return n.createElement("div",{className:"popup"},n.createElement("div",null,n.createElement("h4",{id:"popup-title"},a),n.createElement("div",{className:"popup-info"},n.createElement(p.b,{to:"brewery/".concat(t.id),id:"info",favorites:this.props.favorites},n.createElement("span",{id:"icons"},y)," more info"),n.createElement("br",null),n.createElement("span",{id:"icons"},w),n.createElement("a",{href:"tel:".concat(l)},l),n.createElement("br",null),n.createElement("a",{target:"_new",href:r},n.createElement("span",{id:"icons"},N),r)),n.createElement("button",{className:this.props.favorites.some((function(e){return e.brewery.brewery_name===a}))?"submit yellow":"submit red",onClick:function(a){return e.props.addFavorite(a,t)}},f)))}}]),a}(n.PureComponent),F=(a(102),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={viewport:{longitude:-99.576229,latitude:37.720919,zoom:3.8},popupInfo:null},e.myMap=r.a.createRef(),e.geocoderContainerRef=r.a.createRef(),e.handleViewportChange=function(t){e.setState({viewport:Object(x.a)(Object(x.a)({},e.state.viewport),t)})},e._onClickMarker=function(t){e.setState({popupInfo:t})},e}return Object(c.a)(a,[{key:"filterPins",value:function(){return this.props.breweries.filter((function(e){return null!==e.lng||null!==e.lat}))}},{key:"_renderPopup",value:function(){var e=this,t=this.state.popupInfo;return t&&r.a.createElement(A.c,{tipSize:5,anchor:"top",longitude:t.lng,latitude:t.lat,closeOnClick:!1,onClose:function(){return e.setState({popupInfo:null})}},r.a.createElement(B,{info:t,favorites:this.props.favorites,addFavorite:this.props.addFavorite}))}},{key:"render",value:function(){var e=this;return this.filterPins(),r.a.createElement("div",{className:"mapContainer"},r.a.createElement("div",{alignItems:"center"},r.a.createElement("div",{className:"map-search-input",ref:this.geocoderContainerRef,style:{height:50,background:"white",display:"flex",alignItems:"center",paddingLeft:4}})),r.a.createElement("span",{className:"whole-map"},r.a.createElement(A.d,Object.assign({ref:this.myMap},this.state.viewport,{onViewportChange:this.handleViewportChange,width:"100%",height:"100%",margin:"0 auto",mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1IjoiZGJwYXRub2RlIiwiYSI6ImNrZnk4aWJ1MjAwN2kyem55MzVmaWh0MnkifQ.9Xu3ZCcZg5OPrXUkqrMILQ"}),this.filterPins().map((function(t){return r.a.createElement(A.b,{key:t.id,longitude:t.lng,latitude:t.lat},r.a.createElement("button",{className:"pin",onClick:function(){return e._onClickMarker(t)}},r.a.createElement("img",{src:"./hop_logo.png",alt:"Brewery Icon"})))})),this._renderPopup(),r.a.createElement(V.a,{mapRef:this.myMap,containerRef:this.geocoderContainerRef,mapboxApiAccessToken:"pk.eyJ1IjoibHVjYXNsZWlicyIsImEiOiJja2Z5OGVmb20xMjlxMnRvazY0OTlqMXVkIn0.G1QPTc55QLc2rXKcO47jzw",onViewportChange:this.handleViewportChange}))))}}]),a}(r.a.Component)),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(F,{user:this.props.user,favorites:this.props.favorites,breweries:this.props.breweries,addFavorite:this.props.addFavorite})}}]),a}(n.Component),R=a(53),H=a.n(R),P=a(54),G=a.n(P),J=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:G.a,alt:"brewery",className:"top-image"}),r.a.createElement("div",{className:"top-left"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"YOUR ",r.a.createElement("br",null),"BREWERY",r.a.createElement("br",null),"WISHLIST",r.a.createElement("br",null))),r.a.createElement("div",{className:"home-page-buttons"},r.a.createElement(p.b,{to:"/login"}," ",r.a.createElement("button",{id:"login-button"},"LOGIN")),r.a.createElement("br",null),r.a.createElement(p.b,{to:"/signup"},r.a.createElement("button",{id:"signup-button"},"SIGN UP")))))),r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:H.a,alt:"Hop Logo",id:"welcome-image"})))},q=a(55),D=a.n(q),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={review:"",atmosphere:"",rating:"",on:!1},e.toggle=function(t){e.setState({on:!e.state.on})},e.handleInputChange=function(t){e.setState(Object(g.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={review:e.state.review,atmosphere:e.state.atmosphere,rating:e.state.rating,user_id:e.props.user,brewery_id:e.props.brewery};e.props.addNotes(a)},e.ratingChanged=function(t){e.setState({rating:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"notes"},r.a.createElement("div",{className:"note-toggle"},r.a.createElement("button",{onClick:function(t){return e.toggle(t,e.props.brewery)},id:"note-button"},I)),this.state.on&&r.a.createElement("span",{id:"note-info"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"star-rating"},r.a.createElement(D.a,{number:this.state.rating,count:5,onChange:this.ratingChanged,size:15,activeColor:"#8fa540"})),r.a.createElement("br",null),r.a.createElement("label",null,"review",r.a.createElement("input",{type:"text",name:"review",value:this.state.review,onChange:this.handleInputChange,required:!0})),r.a.createElement("button",{type:"submit",value:"Submit",className:"note-submit-button"},"Add Note"))))}}]),a}(n.Component),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).removeFavorite=function(t){var a=e.props.favorites.find((function(e){return e.brewery.id===t}));fetch("https://daniels-brewmaps-api.herokuapp.com/favorites/".concat(a.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),window.location.href="/favorites"},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",{className:"header"},"Favorites"),r.a.createElement("div",{className:"favorite-cards"},this.props.favorites.map((function(t,a){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card",index:a,key:a},r.a.createElement("a",{className:"brewery-name",style:{display:"table-cell"},href:t.brewery.website_url,target:"_blank",rel:"noopener noreferrer"},t.brewery.brewery_name),r.a.createElement("h6",null,"Brewery Style: ",t.brewery.brewery_type),r.a.createElement("p",null,r.a.createElement("span",{id:"icons"},E),r.a.createElement("a",{href:"https://maps.google.com/?q=".concat(t.brewery.street,",").concat(t.brewery.city,",").concat(t.brewery.state),className:"address",target:"popup",onClick:"window.open('../html-link.htm','name','width=600,height=400')"},t.brewery.street," ",t.brewery.city,","," ",t.brewery.state," ",t.brewery.postal_code)),r.a.createElement("a",{href:"tel:".concat(t.brewery.phone),className:"phone-number"},r.a.createElement("span",{id:"icons"},w),"",t.brewery.phone.length>0?t.brewery.phone:"No phone number available"),r.a.createElement("a",{className:"website",style:{display:"table-cell"},href:t.brewery.website_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{id:"icons"},N),t.brewery.website_url),t.brewery.notes.map((function(e){return r.a.createElement("div",{className:"favorite-notes"},r.a.createElement("span",{id:"rendered-notes"},"previous review:"),e.review,r.a.createElement("br",null),e.rating," ",r.a.createElement("span",{id:"icons"},_))})),r.a.createElement(W,{pencil:I,addNotes:e.props.addNotes,brewery:t.brewery.id,user:e.props.user.id}),r.a.createElement("button",{className:"submit",id:t.brewery.id,onClick:function(){return e.removeFavorite(t.brewery.id)}},z)))}))))}}]),a}(n.Component),Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.brewery,a=t.brewery_name,n=t.brewery_type,l=t.street,s=t.city,o=t.state,i=t.postal_code,c=t.website_url,m=t.phone;return r.a.createElement("div",null,r.a.createElement("div",{className:"single-card-layout"},r.a.createElement("div",{className:"single-card"},r.a.createElement("span",null,r.a.createElement("a",{className:"brewery-name",style:{display:"table-cell"},href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h1",null,a))),r.a.createElement("h3",null,"Brewery Style: ",n),r.a.createElement("p",null,r.a.createElement("span",{id:"icons"},E),l,s,", ",o," ",i),r.a.createElement("a",{href:"tel:".concat(m),className:"phone-number"},r.a.createElement("span",{id:"icons"},w),m),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("a",{className:"website",style:{display:"table-cell"},href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{id:"icons"},N),c)),r.a.createElement("button",{className:this.props.favorites.some((function(e){return e.brewery.brewery_name===a}))?"submit yellow":"submit red",onClick:function(t){return e.props.addFavorite(t,e.props.brewery)}},f)),r.a.createElement("br",null)),r.a.createElement(p.b,{to:"/map"},r.a.createElement("button",{className:"brewery-card-button"},"Back to map")))}}]),a}(n.Component),X=function(e){return r.a.createElement("div",null,r.a.createElement("h1",{className:"header"},"Breweries"),r.a.createElement("div",{className:"search__container"},r.a.createElement("input",{className:"search__input",type:"text",placeholder:"search...",value:e.inputValue,onChange:e.breweryFilterOnChange})),r.a.createElement("div",{className:"cards"},e.filteredBreweries.map((function(t){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card",brewery:t,key:t.id},r.a.createElement("div",{id:"brewery-card-info"},r.a.createElement("span",null,r.a.createElement("a",{className:"brewery-name",style:{display:"table-cell"},href:t.website_url,target:"_blank",rel:"noopener noreferrer"},t.brewery_name)),r.a.createElement("h6",null,"Brewery Style: ",t.brewery_type),r.a.createElement("p",null,r.a.createElement("span",{id:"icons"},E),r.a.createElement("a",{href:"https://maps.google.com/?q=".concat(t.street,",").concat(t.city,",").concat(t.state),className:"address",target:"popup",onClick:"window.open('../html-link.htm','name','width=600,height=400')"},t.street," ",t.city,", ",t.state," ",t.postal_code)),"",parseInt(t.phone).length>0?r.a.createElement("p",null,"'No phone number available'"):r.a.createElement("a",{href:"tel:".concat(t.phone),className:"phone-number"},t.phone)),r.a.createElement("button",{brewery:t,id:t.id,className:e.favorites.some((function(e){return e.brewery.brewery_name===t.brewery_name}))?"submit yellow":"submit red",onClick:function(a){return e.addFavorite(a,t)}},f)))}))))},Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loggedInStatus:"NOT_LOGGED_IN",user:{},breweries:[],allBreweries:[],favorites:[],notes:[],inputValue:""},e.handleLogout=function(){localStorage.clear(),e.setState({loggedInStatus:"NOT_LOGGED_IN",user:{}})},e.handleLogin=function(t){e.setState({loggedInStatus:"LOGGED_IN",user:t,favorites:t.favorites,notes:t.notes})},e.addFavorite=function(t,a){if(!e.state.favorites.includes(a)){var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.authToken},body:JSON.stringify({user_id:e.state.user.id,brewery_id:a.id})};fetch("https://daniels-brewmaps-api.herokuapp.com/favorites",n).then((function(e){return e.json()})).then((function(t){e.setState({favorites:[].concat(Object(o.a)(e.state.favorites),[{id:t.id,brewery:t.brewery}])})}))}},e.addNotes=function(e){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.authToken},body:JSON.stringify(e)};fetch("https://daniels-brewmaps-api.herokuapp.com/notes",t).then((function(e){return e.json()})).then((function(e){window.location.href="/favorites"}))},e.breweryFilterOnChange=function(t){console.log("isFavorted",e.state.isFavorited),e.setState({inputValue:t.target.value})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(!localStorage.getItem("allBreweries")){var t={headers:{"Content-Type":"application/json",Authorization:localStorage.authToken}};fetch("https://daniels-brewmaps-api.herokuapp.com/breweries",t).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):e.setState({allBreweries:t,breweries:t},(function(){})),localStorage.setItem("allBreweries",JSON.stringify(t))}))}if(localStorage.getItem("allBreweries")&&this.setState({breweries:JSON.parse(localStorage.getItem("allBreweries"))}),localStorage.getItem("authToken")){var a={headers:{"Content-Type":"application/json",Authorization:localStorage.authToken}};this.setState({loggedInStatus:"LOGGED_IN"}),fetch("https://daniels-brewmaps-api.herokuapp.com/whoami",a).then((function(e){return e.json()})).then(this.handleLogin)}else this.setState({loggedInStatus:"NOT_LOGGED_IN"})}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{path:"/",render:function(t){return r.a.createElement(b,Object.assign({},t,{user:e.state.user,loggedInStatus:e.state.loggedInStatus,handleLogout:e.handleLogout}))}}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(J,Object.assign({},t,{loggedInStatus:e.state.loggedInStatus}))}}),r.a.createElement(h.a,{path:"/signup",render:function(t){return r.a.createElement(M,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.loggedInStatus}))}}),r.a.createElement(h.a,{path:"/login",render:function(t){return r.a.createElement(L,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.loggedInStatus}))}}),r.a.createElement(h.a,{path:"/map",render:function(t){var a=e.state.breweries;return a?r.a.createElement(T,Object.assign({breweries:a},t,{favorites:e.state.favorites,user:e.state.user,addFavorite:e.addFavorite})):"Loading..."}}),r.a.createElement(h.a,{path:"/favorites",render:function(t){return r.a.createElement(U,Object.assign({},t,{user:e.state.user,favorites:e.state.favorites,addFavorite:e.addFavorite,removeFavorite:e.removeFavorite,addNotes:e.addNotes,notes:e.state.notes}))}}),r.a.createElement(h.a,{path:"/notes",render:function(t){return r.a.createElement(W,Object.assign({},t,{isFavorited:e.state.isFavorited}))}}),r.a.createElement(h.a,{path:"/brewery/:BreweryId",render:function(t){var a=t.match.params.BreweryId,n=e.state.breweries.find((function(e){return e.id===parseInt(a)}));return n?r.a.createElement(Y,Object.assign({brewery:n},t,{favorites:e.state.favorites,isFavorited:e.state.isFavorited,handleLogin:e.handleLogin,loggedInStatus:e.state.loggedInStatus,addFavorite:e.addFavorite})):"Loading..."}}),r.a.createElement(h.a,{path:"/breweries",render:function(t){var a=e.state.breweries,n=a.filter((function(t){return t.brewery_name.toLowerCase().includes(e.state.inputValue.toLowerCase())}));return a?r.a.createElement(X,Object.assign({},t,{favorites:e.state.favorites,breweries:a,filteredBreweries:n,inputValue:e.state.inputValue,breweryFilterOnChange:e.breweryFilterOnChange,addFavorite:e.addFavorite})):"Loading..."}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){e.exports=a.p+"static/media/hop_logo.bed25608.png"},53:function(e,t,a){e.exports=a.p+"static/media/home_page_botom.1845e3fb.png"},54:function(e,t,a){e.exports=a.p+"static/media/brewery_background.740d605b.png"},57:function(e,t,a){e.exports=a(105)},64:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.d8abc542.chunk.js.map